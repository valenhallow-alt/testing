local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/UnHub-LEGO/Scripts/refs/heads/main/Rayfield%20Library'))()

local Window = Rayfield:CreateWindow({
   Name = "UnHub | by LE_GO89",
   FileName = "UnHub",
   Icon = 0,
   LoadingTitle = "UnHub",
   LoadingSubtitle = "by LE_GO89",
   Theme = "Default",
   ToggleUIKeybind = "H",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "UnHub"
   },
   Discord = {
      Enabled = false,
      Invite = "",
      RememberJoins = true
   },
   KeySystem = false,
   KeySettings = {
      Title = "UnHub",
      Subtitle = "Key",
      Note = "Get the key by visit the website and wait 5 sec copy the key",
      FileName = "Key",
      SaveKey = false,
      GrabKeyFromSite = false,
      Key = {"Hi"}
    }
})

local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local plr = game.Players.LocalPlayer
local Players = game.Players
local AutoBuy1, AutoPickUp, AutoBuy2, AutoBuy3, RunAntiAfk = false, false, false, false, nil

local multipliers = {
	K = 1e3,
	M = 1e6,
	B = 1e9,
	T = 1e12
}

local function NumberCoverter(text)
	text = tostring(text):upper()

	local value, suffix = text:match("([%d%.]+)%s*([KMBT]?)")
	value = tonumber(value)
	if not value then return nil end

	if suffix ~= "" and multipliers[suffix] then
		return value * multipliers[suffix]
	end

	return value
end

local Frog = {}
local FrogList = {}
local ShopFrog = {}

for i, v in pairs(plr.PlayerGui["Tadpole Trove_Shop"].MainContainer.Container.Frame.Body.Items:GetChildren()) do
	if v:IsA("Frame") and v.Name:find(" Tadpole") then
		table.insert(Frog, {v.Name, v.Name:gsub(" Tadpole", " Frog"), tonumber(NumberCoverter(v.Right.PriceSection.Button.Amount.Text))})
	end
end
for i, v in pairs(Frog) do
	table.insert(FrogList, v[1])
end

local Lilypad = {}
local LilypadList = {}
local ShopLilypad = {}

for i, v in pairs(game:GetService("Players").LocalPlayer.PlayerGui["Lilypad Lounge_Shop"].MainContainer.Container.Frame.Body.Items:GetChildren()) do
	if v:IsA("Frame") then
		table.insert(Lilypad, {v.Name, tonumber(NumberCoverter(v.Right.PriceSection.Button.Amount.Text))})
	end
end
for i, v in pairs(Lilypad) do
	table.insert(LilypadList, v[1])
end

local Ribbit = {}
local RibbitList = {}
local ShopRibbit = {}

for i, v in pairs(game:GetService("Players").LocalPlayer.PlayerGui["Ribbit Rack_Shop"].MainContainer.Container.Frame.Body.Items:GetChildren()) do
	if v:IsA("Frame") then
		table.insert(Ribbit, {v.Name, tonumber(NumberCoverter(v.Right.PriceSection.Button.Amount.Text))})
	end
end
for i, v in pairs(Ribbit) do
	table.insert(RibbitList, v[1])
end

local Main = Window:CreateTab("Main", 125058207637011)
Main:CreateSection("Main")

Main:CreateToggle({Name = "Anti Afk Bypass", CurrentValue = false, Flag = "Toggle1", Callback = function(Value)
    local vu = game:GetService("VirtualUser")
    if Value then
    	RunAntiAfk = game:GetService("Players").LocalPlayer.Idled:connect(function()
    		vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    		wait(1)
    		vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    	end)
    else
        if RunAntiAfk then
            RunAntiAfk:Disconnect()
            RunAntiAfk = nil
        end
    end
end})

Main:CreateInput({Name = "Server", CurrentValue = "", PlaceholderText = "ServerId", RemoveTextAfterFocusLost = true, Callback = function(Value)
    TeleportService:TeleportToPlaceInstance(game.PlaceId, Value, plr)
end})

Main:CreateButton({Name = "Rejoin", Callback = function()
    TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, plr)
end})

Main:CreateButton({Name = "Server Hop", Callback = function()
    local servers = {}
    local req = game:HttpGet("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Desc&limit=100&excludeFullGames=true")
    local body = HttpService:JSONDecode(req)

    if body and body.data then
        for i, v in next, body.data do
            if type(v) == "table" and tonumber(v.playing) and tonumber(v.maxPlayers) and v.playing < v.maxPlayers and v.id ~= JobId then
                table.insert(servers, 1, v.id)
            end
        end
    end

    if #servers > 0 then
        TeleportService:TeleportToPlaceInstance(game.PlaceId, servers[math.random(1, #servers)], plr)
    end
end})

local Farm = Window:CreateTab("Farm", 125058207637011)
Farm:CreateSection("Farm")

Farm:CreateToggle({Name = "Auto Sell All", CurrentValue = false, Flag = "Toggle1", Callback = function(Value)
    AutoSell = Value
end})

Farm:CreateToggle({Name = "Auto Pick Up", CurrentValue = false, Flag = "Toggle1", Callback = function(Value)
    AutoPickUp = Value
end})

Farm:CreateButton({Name = "Pick Up All", Callback = function()
	for i, v in pairs(plr.Plot.Value.Entities:GetChildren()) do
		if v:IsA("Part") then
		    task.spawn(function()
			    game:GetService("ReplicatedStorage"):WaitForChild("FrogPickupComms"):WaitForChild("RE"):WaitForChild("Pickup"):FireServer(v)
			end)
		end
	end
end})

Farm:CreateButton({Name = "Sell All", Callback = function()
    game:GetService("ReplicatedStorage"):WaitForChild("HopNSellComms"):WaitForChild("RE"):WaitForChild("SellAll"):FireServer()
end})

Farm:CreateButton({Name = "Place All Tadpole", Callback = function()
    for i, v in pairs() do
        if v:FindFirstChild("TadpoleToolComms") then
            task.spawn(function()
                local args = {
                	plr.Plot.Value:WaitForChild("SwimableAreas"):WaitForChild("Pond1"):WaitForChild("PlaceArea"),
                	vector.create(0, 0, 0)
                }
                v:WaitForChild("TadpoleToolComms"):WaitForChild("RE"):WaitForChild("RequestPlace"):FireServer(unpack(args))
            end)
        end
    end
end})

local Shop = Window:CreateTab("Shop", 125058207637011)
Shop:CreateSection("Shop")

local Tadpoles = Shop:CreateDropdown({Name = "Tadpoles Trove", Options = FrogList, CurrentOption = {"None"}, MultipleOptions = true, Flag = "Dropdown1", Callback = function(Value)
    ShopFrog = Value
end})

Shop:CreateButton({Name = "Select All", Callback = function()
	Tadpoles:Set(FrogList)
end})

Shop:CreateToggle({Name = "Auto Buy", CurrentValue = false, Flag = "Toggle1", Callback = function(Value)
    AutoBuy1 = Value
end})

local LilypadDrop = Shop:CreateDropdown({Name = "Lilypad Lounge", Options = LilypadList, CurrentOption = {"None"}, MultipleOptions = true, Flag = "Dropdown1", Callback = function(Value)
    ShopLilypad = Value
end})

Shop:CreateButton({Name = "Select All", Callback = function()
	LilypadDrop:Set(LilypadList)
end})

Shop:CreateToggle({Name = "Auto Buy", CurrentValue = false, Flag = "Toggle1", Callback = function(Value)
    AutoBuy2 = Value
end})

local RibbitDrop = Shop:CreateDropdown({Name = "Ribbit Rack", Options = RibbitList, CurrentOption = {"None"}, MultipleOptions = true, Flag = "Dropdown1", Callback = function(Value)
    ShopRibbit = Value
end})

Shop:CreateButton({Name = "Select All", Callback = function()
	RibbitDrop:Set(RibbitList)
end})

Shop:CreateToggle({Name = "Auto Buy", CurrentValue = false, Flag = "Toggle1", Callback = function(Value)
    AutoBuy3 = Value
end})

RunService.RenderStepped:Connect(function(deltaTime)
	if AutoBuy1 then
		for _, v in pairs(Frog) do
			if ShopFrog and table.find(ShopFrog, v[1]) and NumberCoverter(plr.leaderstats.Ribbles.Value) >= v[3] then
				game:GetService("ReplicatedStorage"):WaitForChild("TadpoleShopComms"):WaitForChild("RF"):WaitForChild("OnPurchaseItem"):InvokeServer(v[1], v[2])
			end
		end
	end
	if AutoBuy2 then
		for _, v in pairs(Lilypad) do
			if ShopLilypad and table.find(ShopLilypad, v[1]) and NumberCoverter(plr.leaderstats.Ribbles.Value) >= v[2] then
				game:GetService("ReplicatedStorage"):WaitForChild("LilypadLoungeComms"):WaitForChild("RF"):WaitForChild("OnPurchaseItem"):InvokeServer(v[1])
			end
		end
	end
	if AutoBuy3 then
		for _, v in pairs(Ribbit) do
			if ShopRibbit and table.find(ShopRibbit, v[1]) and NumberCoverter(plr.leaderstats.Ribbles.Value) >= v[2] then
				game:GetService("ReplicatedStorage"):WaitForChild("GearShopComms"):WaitForChild("RF"):WaitForChild("OnPurchaseItem"):InvokeServer(v[1])
			end
		end
	end
	if AutoPickUp then
		for i, v in pairs(plr.Plot.Value.Entities:GetChildren()) do
			if v:IsA("Part") then
				game:GetService("ReplicatedStorage"):WaitForChild("FrogPickupComms"):WaitForChild("RE"):WaitForChild("Pickup"):FireServer(v)
			end
		end
	end
	if AutoSell then
		game:GetService("ReplicatedStorage"):WaitForChild("HopNSellComms"):WaitForChild("RE"):WaitForChild("SellAll"):FireServer()
	end
end)
